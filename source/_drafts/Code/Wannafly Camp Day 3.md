---
title:Wannafly Camp Day 3
tags:
---

# Wannafly Camp Day 3

> 今天是数据结构

<!--more-->

## 课上内容

### 树上的分治

#### 点分治

点分治即选择一个点作为其根，再递归处理其的每一棵子树。因为我们希望我们分治后尽可能平分，使得递归层数尽可能少。那么我们便需要选择最大子树最小的点。这样的点被称为“**重心**”,可以通过一次树型DP求出。因为一定存在一个节点使得最大子树不超过点数的一半，所以层数最多为$O(n \log n)$。

#### 边分治

边分治，顾名思义，就是按照边将树分为两个子树。其优点在于每次都分成了两段，方便处理。我们每次找一个边，令其左右子树尽可能平均。边分治的时间复杂度为$O(n \log n)$，但是在菊花图中为$O(n^2)$，所以我们需要通过加虚点将菊花图转为二叉树。

#### 虚树

当我们需要对树内的点集进行询问时，因为对于这个点集，数中大部分节点是没有意义的，所以我们可以将其缩为虚树。

## 习题和解析

题目来源：[_题目来源_](https://www.zhixincode.com/contest/16/problems)

### A 夺宝奇兵

这题其实就是从$1$到$n$再到$1$，$i$一定连到$i+1$,我们只需贪心判断是哪个$i$连接到哪个$i+1$即可。

### B 象象象棋

### C 最小边覆盖

最小边覆盖中的边只会有两种情况：一个是一条边连接两个点，然后不与其它所有点相连；另一个是两条边连接了三个点，也不与其它所有点相连。因此，在满足此条件的基础上，如果所有的点都被边覆盖过了，就说明它可以是最小边覆盖。

### D 欧拉回路

根据欧拉回路的性质，可以分类讨论得出公式。

### E 黄金矿工



### F 小小马

因为题目要求黑白子一样多，而马每跳一次一定会变一次色，所以只要起点和终点颜色不同即可。

此外，我们还需要确保从起点能够到达终点。这里有一个结论，当棋盘$\geq 3 \times 4$时，棋盘的任意点都可走，不是的时候特判或者暴搜即可。

### G 置置置换

使用$f_{i,j}$表示考虑了前$i$个位置，第$i$的位置在剩下的数里面是第$j$小的情况数。

当第$i$个数应该更大时，$f_{i,j} = \sum_{k=1}^j f_{i-1, k}$,反之则为$f_{i,j} = \sum_{k=j+1}^n f_{i-1,k}$。

### H 命命命运

正解为DP。

### I 咆咆咆哮

三分可解。

### J 跑跑跑路

梯度下降可解。

正解是模拟退火。

### K 两条路径

